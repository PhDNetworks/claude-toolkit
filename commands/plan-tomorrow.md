# Plan Tomorrow Command

Automated tomorrow planning: scans Asana tasks, identifies free calendar slots, schedules work blocks, creates calendar events with Notion workspaces.

## Execution Mode

This command performs WRITE operations (creates calendar events, Notion pages). Run with full autonomy.

---

## Step 1: Get Current Time & Tomorrow's Date

```
Use mcp__google-calendar__get-current-time to get:
- Current time
- Tomorrow's date (for all scheduling)
- Timezone (Europe/London)
```

---

## Step 2: Asana Task Scan

Query Asana workspace `370210508651364` for:

### 2.1 Overdue Tasks (HIGHEST PRIORITY)
```
Search: due_on_before = today, completed = false
Flag: HIGH PRIORITY - address first
```

### 2.2 Tasks Due Tomorrow
```
Search: due_on = tomorrow, completed = false
```

### 2.3 Tasks Due This Week
```
Search: due_on_before = end_of_week, due_on_after = tomorrow, completed = false
```

### 2.4 High Priority Tasks (No Due Date)
```
Search tasks from priority projects without due dates:
- Diary of a Barrister v2.0 (1212297063589429)
- JP Electrical (1211582311091713)
- Ossett Dental (1212369433014055)
```

### 2.5 Extract for Each Task
- `name` - Task title
- `project` - Parent project name
- `due_on` - Due date
- `notes` - Task description (for micro-tasks)
- `estimated_time` - Parse from notes or default 30 mins
- `priority` - Derive from overdue status, project importance

---

## Step 3: Calendar Scan - Tomorrow's Events

```
Use mcp__google-calendar__list-events:
- calendarId: primary
- timeMin: tomorrow 00:00
- timeMax: tomorrow 23:59
- timeZone: Europe/London
```

### 3.1 Identify Existing Commitments
Map all existing events with start/end times.

### 3.2 Identify FREE Time Slots
Calculate gaps between events. These are schedulable.

### 3.3 Time Block Constraints

| Block | Time | Type | Best For |
|-------|------|------|----------|
| Morning Routine | 05:00-08:00 | PROTECTED | Deep work, complex tasks (use if no urgent items) |
| SMG Work | 09:00-17:00 | CONDITIONAL | Only schedule if WFH or confirmed light day |
| Prime Focus | 05:00-08:00, 18:00-21:00 | PREMIUM | High-value, cognitively demanding work |
| Wind-down | 21:00-22:00 | LIGHT ONLY | Admin, email, planning, reading |
| Sleep | 22:00-05:00 | BLOCKED | Never schedule |

---

## Step 4: Smart Scheduling Algorithm

### 4.1 Task Prioritization
1. **Overdue tasks** - Schedule first, prime slots
2. **Revenue-impacting** - DOAB, JP Electrical milestones
3. **Due tomorrow** - Must complete
4. **Due this week** - Fill remaining slots
5. **Backlog** - Only if time permits

### 4.2 Slot Matching Rules
- **Complex/Creative tasks** â†’ Morning (05:00-08:00) or early evening (18:00-20:00)
- **Admin/Communication** â†’ Wind-down (21:00-22:00) or lunch breaks
- **Client calls** â†’ Respect existing calendar
- **Large tasks (>1hr)** â†’ Break into 25-min pomodoros with 5-min breaks

### 4.3 Scheduling Logic
```
For each task in priority order:
  1. Estimate duration (from notes or default 30 mins)
  2. Find best available slot matching task type
  3. If task > 25 mins, split into pomodoros
  4. Reserve slot (mark as used)
  5. Add 10-min buffer after each block
  6. If no slot fits, add to "Couldn't Schedule" list
```

### 4.4 Pomodoro Splitting
Tasks > 25 minutes become:
- Multiple 25-min focused blocks
- 5-min breaks between
- Group as single calendar event with internal structure

---

## Step 5: Create Calendar Events

For each scheduled task block, create Google Calendar event:

### 5.1 Event Structure
```
Summary: [Emoji] [Project]: [Task Name]

Emojis by type:
- Revenue/Client: ğŸ’°
- DOAB: âš–ï¸
- Technical: ğŸ”§
- Admin: ğŸ“‹
- Learning: ğŸ“š
- Health: ğŸƒ

Example: "ğŸ’° JP Electrical: Configure Contact Form Webhooks"
```

### 5.2 Event Description Template
```
ğŸ¯ OBJECTIVE
[What does "done" look like for this task?]

âœ… MICRO-TASKS
â˜ 1. [First concrete step]
â˜ 2. [Second step]
â˜ 3. [Third step]
â˜ 4. [Fourth step]
â˜ 5. [Verify/test completion]

ğŸ“¦ RESOURCES
â€¢ Asana: [task URL]
â€¢ Notion Workspace: [will be added after creation]
â€¢ Related: [any relevant links from task notes]

â±ï¸ TIME BOX
â€¢ Allocated: [X] minutes
â€¢ Format: [Pomodoro count] x 25 min + breaks

âœ… SUCCESS CRITERIA
[How to know this is complete]

---
ğŸ¤– Auto-generated by /plan-tomorrow
```

### 5.3 Create Event
```
Use mcp__google-calendar__create-event:
- calendarId: primary
- summary: [formatted title]
- description: [template above]
- start: [slot start time]
- end: [slot end time]
- timeZone: Europe/London
```

---

## Step 6: Create Notion Workspaces

### 6.1 Find or Create Daily Workspaces Database
Search for "Daily Workspaces" in Notion. If not found, create under Command Centre.

### 6.2 Create Workspace Page for Each Block

**Page Title:** `[Task Name] â€” [Date] [Time]`

**Page Content:**
```markdown
# [Task Name]
**Date:** [Tomorrow's date]
**Time Block:** [Start] - [End]
**Project:** [Project name]

---

## ğŸ¯ Objective
[What does done look like? Extract from Asana task or infer.]

---

## âœ… Micro-Tasks
- [ ] Step 1
- [ ] Step 2
- [ ] Step 3
- [ ] Step 4
- [ ] Step 5

---

## ğŸ“ Working Notes
*Scratchpad â€” dump thoughts, progress, blockers here during work*



---

## ğŸ”— Resources
- **Asana Task:** [link to original task]
- **Calendar Event:** [link to Google Calendar event]
- **Related Docs:** [any relevant links]

---

## ğŸ’¡ Ideas & Blockers
*Capture insights and obstacles as you work*



---

## âœ… Completion Log
- **Started:**
- **Completed:**
- **Actual Duration:**
- **Outcome:**
- **Follow-up Tasks:**

---

*Auto-generated by /plan-tomorrow*
```

### 6.3 Link Back to Calendar
After creating Notion page, UPDATE the calendar event description to include the Notion workspace URL.

---

## Step 7: Generate Summary Output

### 7.1 Tomorrow's Schedule
```
# ğŸ“… Tomorrow: [Day, Date]

## Scheduled Blocks

| Time | Task | Project | Duration |
|------|------|---------|----------|
| 05:30-06:00 | [Task] | [Project] | 30 min |
| ... | ... | ... | ... |

## Stats
- Total Productive Hours: X.X hrs
- Tasks Scheduled: X
- Pomodoros: X
- Buffer Time: X mins

## Couldn't Schedule (Overflow)
- [Task] - [Reason: no slot / too long / conflict]

## Calendar Events Created
- [Event 1] âœ…
- [Event 2] âœ…

## Notion Workspaces Created
- [Page 1] âœ…
- [Page 2] âœ…

## Conflicts / Concerns
- [Any scheduling issues or notes]

## Tomorrow's MIT (Most Important Task)
**[The ONE thing that matters most tomorrow]**

---
*Run at [timestamp] by /plan-tomorrow*
```

---

## Danny's Context (Auto-Apply)

### Current Priorities (Jan 2026)
1. **DOAB v2.0** - Get MVP demo-ready, invoice Chelsea
2. **JP Electrical** - Website milestone Â£1,250
3. **Ossett Dental** - Fix Google Ads conversions (currently 0)
4. **March 2026 Exit** - 85 days to leave SMG

### Energy Patterns
- **Peak cognitive:** 05:00-08:00 (use for complex work)
- **Secondary peak:** 18:00-20:00 (creative work)
- **Low energy:** 14:00-16:00 (admin, routine tasks)
- **Wind-down:** 21:00+ (light tasks, reading)

### Recurring Commitments
- SMG: Mon-Fri 09:00-17:00 (unless WFH)
- Gym/Swimming: Check calendar
- Family court payment: Before 10th of month

### MRR Tracking
- Current: ~Â£2,100
- Target: Â£5,000
- Gap: Â£2,900

---

## Error Handling

- If Asana unavailable: Log error, continue with calendar-only planning
- If Calendar unavailable: Log error, output task list only
- If Notion unavailable: Log error, create calendar events without workspace links
- If no tasks found: Output "No tasks to schedule" with suggestion to review Asana

---

## Execution Checklist

1. [ ] Get current time and tomorrow's date
2. [ ] Scan Asana for all relevant tasks
3. [ ] Scan Google Calendar for tomorrow's events
4. [ ] Calculate free time slots
5. [ ] Prioritize and schedule tasks into slots
6. [ ] Create Google Calendar events with descriptions
7. [ ] Create Notion workspace pages
8. [ ] Update calendar events with Notion links
9. [ ] Output summary

Execute autonomously. Create real calendar events and Notion pages.

$ARGUMENTS
